1. 持久化存储，将 editorState 序列化为 JSON 字符串，存到数据库；使用时再反序列化还原为 editorState
2. 用户复制时，lexical 内部会将选中的节点序列化成一种特定格式（可能是 JSON 或 HTML）放入剪贴板。用户粘贴时，再从剪贴板读取数据，反序列化成新的节点并插入到编辑器中。

### 自定义节点的责任

当你创建自定义节点时，为了让它能够被正确地保存和加载，你**必须**实现两个核心方法：

1.  **`exportJSON()`**:
    -   一个**实例方法**。
    -   负责把你节点实例的**所有重要数据**都打包到一个 JSON 对象里。
    -   一定要调用 `super.exportJSON()` 来包含基类的属性。

2.  **`importJSON(serializedNode)`**:
    -   一个**静态方法**。
    -   负责读取 `exportJSON` 生成的 JSON 对象，并用它来创建一个**新的节点实例**。

**示例：一个简单的 `ImageNode`**
```javascript
class ImageNode extends DecoratorNode {
  // ...
  
  // 序列化
  exportJSON() {
    return {
      ...super.exportJSON(), // 包含基类属性
      type: 'image',
      version: 1,
      src: this.__src, // 保存自定义属性
      altText: this.__altText,
    };
  }
  
  // 反序列化
  static importJSON(serializedNode) {
    const node = new ImageNode(serializedNode.src, serializedNode.altText);
    return node;
  }
}
```

### 总结

-   **序列化** (`editorState.toJSON()`) 是一个**递归的 `exportJSON()` 调用链**，将内存中的 `EditorState` 转化为可存储的 JSON。
-   **反序列化** (`editor.parseEditorState()`) 是一个**递归的 `importJSON()` 调用链**，利用节点注册表，将 JSON 数据重建为内存中的 `EditorState`。
-   这个过程是实现**数据持久化**、**加载内容**和**复制粘贴**等核心功能的根本。
-   对于自定义节点，正确实现 `exportJSON` 和 `importJSON` 是其能够正常工作的先决条件。