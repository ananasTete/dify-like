

| 监听器                       | 监听内容                      | 主要用途                                |
|-----------------------------|------------------------------|-----------------------------------------|
| registerUpdateListener      | EditorState 的变化            | 用于同步 UI、数据持久化、状态驱动的逻辑 |
| registerCommand             | 特定命令的触发                 | 实现功能、插件间通信、拦截行为           |
| registerTextContentListener | 纯文本内容的变化               | 字数统计、纯文本预览                     |
| registerRootListener        | 编辑器根元素的变化                 | 编辑器根元素的变化                      |
| registerMutationListener    | 特定节点的变化               | 特定节点的变化                       |
| registerEditableListener    | 编辑器读写模式变化           | 编辑器读写模式变化                     |
| registerDecoratorListener   | 装饰器节点的变化           | 装饰器节点的变化                     |

```ts
import { useEffect } from 'react';
import { useLexicalComposerContext } from '@lexical/react/LexicalComposerContext';

function MyPlugin() {
  const [editor] = useLexicalComposerContext();

  useEffect(() => {
    // 当组件挂载时，注册监听器
    const unregister = editor.registerUpdateListener(() => {
      console.log('Editor updated!');
    });

    return () => {
      unregister(); // 在这里注销监听器
    };
  }, [editor]);

  return null;
}
```